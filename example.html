<html>

<head>
    <script src="./dist/index.js"></script>
    <script>
        function scan(target) {
            const out = document.getElementById("out");
            const err = document.getElementById("err");
            try {
                window["QrcodeScannerButton"].click().then(res => {
                    out.innerText = res;
                })
                    .catch(e => {
                        err.innerText = e.toString();
                    })
            }
            catch (e) {
                err.innerText = e.toString();
            }
        }
        function fullscreen() {
            let rfs = (screen.requestFullscreen
                || screen.webkitRequestFullScreen
                || screen.mozRequestFullScreen
                || screen.msRequestFullscreen)
            if (rfs === undefined) {
                err("requestFullscreen is undefined");
            }
            rfs.call(screen)
        }
    </script>

</head>

<body>
    <button onclick="scan()">scan</button>
    <div id="out"></div>
    <div id="err"></div>
    <div id="bind" onclick="fullscreen()"></div>
</body>
<script>
    try {
        const err = document.getElementById("err");
        const handler = document.getElementById("bind");
        window["QrcodeScannerButton"].bind(handler);
    } catch (e) {
        err.innerText = e.toString();
    }
</script>

</html>